<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 480" fill="none">
  <defs>
    <style>
      @keyframes pulse-pin { 0%,100%{opacity:0.6} 50%{opacity:1} }
      @keyframes pulse-sem { 0%,100%{opacity:0.5} 50%{opacity:0.9} }
      @keyframes pulse-wrk { 0%,100%{opacity:0.4} 50%{opacity:0.8} }
      @keyframes flow-down { 0%{opacity:0;transform:translateY(-8px)} 50%{opacity:0.9} 100%{opacity:0;transform:translateY(8px)} }
      @keyframes glow-ring { 0%,100%{r:38;opacity:0.3} 50%{r:48;opacity:0} }
      .pin-pulse { animation: pulse-pin 3s ease-in-out infinite; }
      .sem-pulse { animation: pulse-sem 3.5s ease-in-out infinite; }
      .wrk-pulse { animation: pulse-wrk 2s ease-in-out infinite; }
    </style>
    <linearGradient id="mh-bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f0f23"/>
      <stop offset="100%" style="stop-color:#1a1a3e"/>
    </linearGradient>
    <linearGradient id="mh-grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="33%" style="stop-color:#8b5cf6"/>
      <stop offset="66%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#06b6d4"/>
    </linearGradient>
    <filter id="mh-glow"><feGaussianBlur stdDeviation="6" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <filter id="mh-shadow"><feGaussianBlur stdDeviation="3" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <clipPath id="mh-clip"><rect width="900" height="480" rx="16"/></clipPath>
  </defs>

  <g clip-path="url(#mh-clip)">
    <rect width="900" height="480" fill="url(#mh-bg)" rx="16"/>
    <g stroke="#334155" stroke-width="0.5" opacity="0.06">
      <line x1="0" y1="120" x2="900" y2="120"/><line x1="0" y1="240" x2="900" y2="240"/>
      <line x1="0" y1="360" x2="900" y2="360"/>
    </g>

    <!-- Title -->
    <text x="450" y="36" font-family="system-ui,-apple-system,'Segoe UI',Helvetica,Arial,sans-serif" font-size="13" font-weight="700" fill="#94a3b8" letter-spacing="3" text-anchor="middle">MEMORY HIERARCHY</text>
    <text x="450" y="56" font-family="system-ui,sans-serif" font-size="11" fill="#64748b" text-anchor="middle">How Adaptive Memory organizes what your Persona knows</text>

    <!-- ===== PINNED (top) ===== -->
    <g transform="translate(450,120)" filter="url(#mh-shadow)">
      <rect x="-200" y="-38" width="400" height="76" rx="14" fill="#f59e0b" fill-opacity="0.08" stroke="#f59e0b" stroke-width="1.5" class="pin-pulse"/>
      <circle r="38" fill="none" stroke="#f59e0b" stroke-width="0.8" opacity="0">
        <animate attributeName="r" values="38;50;38" dur="4s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0.3;0;0.3" dur="4s" repeatCount="indefinite"/>
      </circle>
      <circle cx="-160" cy="0" r="18" fill="#f59e0b" fill-opacity="0.15"/>
      <text x="-160" y="5" font-family="system-ui,sans-serif" font-size="16" text-anchor="middle" fill="#f59e0b">&#x1F4CC;</text>
      <text x="-120" y="-10" font-family="system-ui,sans-serif" font-size="16" font-weight="700" fill="#fbbf24">Pinned Memory</text>
      <text x="-120" y="8" font-family="system-ui,sans-serif" font-size="10" fill="#94a3b8">User-approved core memories. Never forgotten.</text>
      <text x="-120" y="24" font-family="system-ui,sans-serif" font-size="9" fill="#64748b" font-style="italic">"Remember this: I'm allergic to peanuts"</text>
      <text x="170" y="-8" font-family="system-ui,sans-serif" font-size="9" font-weight="600" fill="#f59e0b" text-anchor="end">&#x03C4; = &#x221E;</text>
      <text x="170" y="8" font-family="system-ui,sans-serif" font-size="8" fill="#64748b" text-anchor="end">No decay</text>
    </g>

    <!-- Arrow: Pinned -> Semantic -->
    <g opacity="0.5">
      <line x1="450" y1="162" x2="450" y2="198" stroke="#8b5cf6" stroke-width="1" stroke-dasharray="3,3"/>
      <circle cx="450" cy="180" r="2.5" fill="#8b5cf6">
        <animate attributeName="cy" values="162;198;162" dur="2s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0;0.8;0" dur="2s" repeatCount="indefinite"/>
      </circle>
    </g>

    <!-- ===== SEMANTIC (middle) ===== -->
    <g transform="translate(450,240)" filter="url(#mh-shadow)">
      <rect x="-200" y="-38" width="400" height="76" rx="14" fill="#8b5cf6" fill-opacity="0.08" stroke="#8b5cf6" stroke-width="1.5" class="sem-pulse"/>
      <circle cx="-160" cy="0" r="18" fill="#8b5cf6" fill-opacity="0.15"/>
      <text x="-160" y="5" font-family="system-ui,sans-serif" font-size="16" text-anchor="middle" fill="#8b5cf6">&#x1F9E0;</text>
      <text x="-120" y="-10" font-family="system-ui,sans-serif" font-size="16" font-weight="700" fill="#a78bfa">Semantic Memory</text>
      <text x="-120" y="8" font-family="system-ui,sans-serif" font-size="10" fill="#94a3b8">Stable facts and preferences. Slow decay over weeks.</text>
      <text x="-120" y="24" font-family="system-ui,sans-serif" font-size="9" fill="#64748b" font-style="italic">Consolidated from repeated conversations</text>
      <text x="170" y="-8" font-family="system-ui,sans-serif" font-size="9" font-weight="600" fill="#8b5cf6" text-anchor="end">&#x03C4; = 30 days</text>
      <text x="170" y="8" font-family="system-ui,sans-serif" font-size="8" fill="#64748b" text-anchor="end">Slow decay</text>
    </g>

    <!-- Arrow: Semantic -> Working -->
    <g opacity="0.5">
      <line x1="450" y1="282" x2="450" y2="318" stroke="#06b6d4" stroke-width="1" stroke-dasharray="3,3"/>
      <circle cx="450" cy="300" r="2.5" fill="#06b6d4">
        <animate attributeName="cy" values="318;282;318" dur="2.5s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0;0.8;0" dur="2.5s" repeatCount="indefinite"/>
      </circle>
      <!-- Promotion label -->
      <text x="480" y="303" font-family="system-ui,sans-serif" font-size="8" fill="#06b6d4" opacity="0.7">consolidation &#x2191;</text>
    </g>

    <!-- ===== WORKING (bottom) ===== -->
    <g transform="translate(450,360)" filter="url(#mh-shadow)">
      <rect x="-200" y="-38" width="400" height="76" rx="14" fill="#06b6d4" fill-opacity="0.08" stroke="#06b6d4" stroke-width="1.5" class="wrk-pulse"/>
      <circle cx="-160" cy="0" r="18" fill="#06b6d4" fill-opacity="0.15"/>
      <text x="-160" y="5" font-family="system-ui,sans-serif" font-size="16" text-anchor="middle" fill="#06b6d4">&#x26A1;</text>
      <text x="-120" y="-10" font-family="system-ui,sans-serif" font-size="16" font-weight="700" fill="#22d3ee">Working Memory</text>
      <text x="-120" y="8" font-family="system-ui,sans-serif" font-size="10" fill="#94a3b8">Short-lived context traces. Fast decay within hours.</text>
      <text x="-120" y="24" font-family="system-ui,sans-serif" font-size="9" fill="#64748b" font-style="italic">What you just said in this conversation</text>
      <text x="170" y="-8" font-family="system-ui,sans-serif" font-size="9" font-weight="600" fill="#06b6d4" text-anchor="end">&#x03C4; = 6 hours</text>
      <text x="170" y="8" font-family="system-ui,sans-serif" font-size="8" fill="#64748b" text-anchor="end">Fast decay</text>
    </g>

    <!-- Side labels -->
    <g transform="translate(60,120)">
      <text x="0" y="-4" font-family="system-ui,sans-serif" font-size="9" font-weight="600" fill="#f59e0b">PERMANENT</text>
      <text x="0" y="8" font-family="system-ui,sans-serif" font-size="8" fill="#64748b">User-controlled</text>
    </g>
    <g transform="translate(60,240)">
      <text x="0" y="-4" font-family="system-ui,sans-serif" font-size="9" font-weight="600" fill="#8b5cf6">LONG-TERM</text>
      <text x="0" y="8" font-family="system-ui,sans-serif" font-size="8" fill="#64748b">Auto-learned</text>
    </g>
    <g transform="translate(60,360)">
      <text x="0" y="-4" font-family="system-ui,sans-serif" font-size="9" font-weight="600" fill="#06b6d4">SHORT-TERM</text>
      <text x="0" y="8" font-family="system-ui,sans-serif" font-size="8" fill="#64748b">Session context</text>
    </g>

    <!-- Footer -->
    <text x="450" y="462" font-family="system-ui,sans-serif" font-size="11" fill="#64748b" text-anchor="middle">Repeated working traces promote to semantic through consolidation &#x2014; just like human memory</text>
  </g>
</svg>
