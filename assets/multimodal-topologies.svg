<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 520" fill="none">
  <defs>
    <style>
      @keyframes flow-right { 0%{opacity:0;transform:translateX(-6px)} 50%{opacity:1} 100%{opacity:0;transform:translateX(6px)} }
      @keyframes pulse-node { 0%,100%{opacity:0.7} 50%{opacity:1} }
      @keyframes glow-t4 { 0%,100%{opacity:0.4;r:6} 50%{opacity:0.8;r:10} }
      @keyframes dash-flow { 0%{stroke-dashoffset:16} 100%{stroke-dashoffset:0} }
      .flow-dot { animation: flow-right 2s ease-in-out infinite; }
      .flow-dot-d1 { animation-delay: 0.3s; }
      .flow-dot-d2 { animation-delay: 0.6s; }
      .node-pulse { animation: pulse-node 3s ease-in-out infinite; }
      .glow-pulse { animation: glow-t4 2.5s ease-in-out infinite; }
      .dash-anim { stroke-dasharray: 8 8; animation: dash-flow 1.2s linear infinite; }
    </style>
    <linearGradient id="mt-bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f0f23"/>
      <stop offset="100%" style="stop-color:#1a1a3e"/>
    </linearGradient>
    <linearGradient id="t1-grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3b82f6"/><stop offset="100%" style="stop-color:#60a5fa"/>
    </linearGradient>
    <linearGradient id="t2-grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#8b5cf6"/><stop offset="100%" style="stop-color:#a78bfa"/>
    </linearGradient>
    <linearGradient id="t3-grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f59e0b"/><stop offset="100%" style="stop-color:#fbbf24"/>
    </linearGradient>
    <linearGradient id="t4-grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#06b6d4"/><stop offset="100%" style="stop-color:#22d3ee"/>
    </linearGradient>
    <filter id="mt-glow"><feGaussianBlur stdDeviation="4" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <filter id="mt-shadow"><feGaussianBlur stdDeviation="2" result="b"/><feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <clipPath id="mt-clip"><rect width="900" height="520" rx="16"/></clipPath>
  </defs>

  <g clip-path="url(#mt-clip)">
    <rect width="900" height="520" fill="url(#mt-bg)" rx="16"/>
    <!-- Grid lines -->
    <g stroke="#334155" stroke-width="0.5" opacity="0.05">
      <line x1="0" y1="130" x2="900" y2="130"/><line x1="0" y1="230" x2="900" y2="230"/>
      <line x1="0" y1="330" x2="900" y2="330"/><line x1="0" y1="430" x2="900" y2="430"/>
    </g>

    <!-- Title -->
    <text x="450" y="32" font-family="system-ui,-apple-system,'Segoe UI',Helvetica,Arial,sans-serif" font-size="13" font-weight="700" fill="#94a3b8" letter-spacing="3" text-anchor="middle">MULTIMODAL TOPOLOGIES</text>
    <text x="450" y="52" font-family="system-ui,sans-serif" font-size="11" fill="#64748b" text-anchor="middle">Four processing modes — each builds on the layer below</text>

    <!-- ===== T1: Basic Chat ===== -->
    <g transform="translate(0,70)">
      <rect x="30" y="8" width="840" height="80" rx="12" fill="#1e293b" stroke="#3b82f6" stroke-width="1.5" opacity="0.6"/>
      <rect x="40" y="18" width="28" height="28" rx="6" fill="url(#t1-grad)" opacity="0.9"/>
      <text x="54" y="37" font-family="system-ui,sans-serif" font-size="14" font-weight="700" fill="#0f0f23" text-anchor="middle">T1</text>
      <text x="82" y="32" font-family="system-ui,sans-serif" font-size="14" font-weight="600" fill="#e2e8f0">Basic Chat</text>
      <text x="82" y="50" font-family="system-ui,sans-serif" font-size="11" fill="#94a3b8">Direct conversation with your LLM. Fast, simple, private.</text>
      <!-- Flow: User → LLM → Response -->
      <g transform="translate(420,58)">
        <rect x="0" y="-12" width="70" height="24" rx="6" fill="#1e40af" opacity="0.5"/>
        <text x="35" y="3" font-family="system-ui,sans-serif" font-size="10" fill="#93c5fd" text-anchor="middle">User</text>
        <line x1="78" y1="0" x2="128" y2="0" stroke="#3b82f6" stroke-width="1.5" opacity="0.5"/>
        <circle cx="103" cy="0" r="3" fill="#60a5fa" class="flow-dot"/>
        <rect x="136" y="-12" width="70" height="24" rx="6" fill="#1e40af" opacity="0.5"/>
        <text x="171" y="3" font-family="system-ui,sans-serif" font-size="10" fill="#93c5fd" text-anchor="middle">LLM</text>
        <line x1="214" y1="0" x2="264" y2="0" stroke="#3b82f6" stroke-width="1.5" opacity="0.5"/>
        <circle cx="239" cy="0" r="3" fill="#60a5fa" class="flow-dot flow-dot-d1"/>
        <rect x="272" y="-12" width="70" height="24" rx="6" fill="#1e40af" opacity="0.5"/>
        <text x="307" y="3" font-family="system-ui,sans-serif" font-size="10" fill="#93c5fd" text-anchor="middle">Reply</text>
      </g>
    </g>

    <!-- ===== T2: Project RAG ===== -->
    <g transform="translate(0,170)">
      <rect x="30" y="8" width="840" height="80" rx="12" fill="#1e293b" stroke="#8b5cf6" stroke-width="1.5" opacity="0.6"/>
      <rect x="40" y="18" width="28" height="28" rx="6" fill="url(#t2-grad)" opacity="0.9"/>
      <text x="54" y="37" font-family="system-ui,sans-serif" font-size="14" font-weight="700" fill="#0f0f23" text-anchor="middle">T2</text>
      <text x="82" y="32" font-family="system-ui,sans-serif" font-size="14" font-weight="600" fill="#e2e8f0">Project Knowledge (RAG)</text>
      <text x="82" y="50" font-family="system-ui,sans-serif" font-size="11" fill="#94a3b8">Upload docs/PDFs → search your knowledge base → grounded answers.</text>
      <!-- Flow: User → RAG → LLM → Response -->
      <g transform="translate(370,58)">
        <rect x="0" y="-12" width="60" height="24" rx="6" fill="#4c1d95" opacity="0.5"/>
        <text x="30" y="3" font-family="system-ui,sans-serif" font-size="10" fill="#c4b5fd" text-anchor="middle">User</text>
        <line x1="68" y1="0" x2="108" y2="0" stroke="#8b5cf6" stroke-width="1.5" opacity="0.5"/>
        <circle cx="88" cy="0" r="3" fill="#a78bfa" class="flow-dot"/>
        <rect x="116" y="-12" width="80" height="24" rx="6" fill="#4c1d95" opacity="0.5"/>
        <text x="156" y="3" font-family="system-ui,sans-serif" font-size="10" fill="#c4b5fd" text-anchor="middle">ChromaDB</text>
        <line x1="204" y1="0" x2="244" y2="0" stroke="#8b5cf6" stroke-width="1.5" opacity="0.5"/>
        <circle cx="224" cy="0" r="3" fill="#a78bfa" class="flow-dot flow-dot-d1"/>
        <rect x="252" y="-12" width="60" height="24" rx="6" fill="#4c1d95" opacity="0.5"/>
        <text x="282" y="3" font-family="system-ui,sans-serif" font-size="10" fill="#c4b5fd" text-anchor="middle">LLM</text>
        <line x1="320" y1="0" x2="360" y2="0" stroke="#8b5cf6" stroke-width="1.5" opacity="0.5"/>
        <circle cx="340" cy="0" r="3" fill="#a78bfa" class="flow-dot flow-dot-d2"/>
        <rect x="368" y="-12" width="60" height="24" rx="6" fill="#4c1d95" opacity="0.5"/>
        <text x="398" y="3" font-family="system-ui,sans-serif" font-size="10" fill="#c4b5fd" text-anchor="middle">Reply</text>
      </g>
    </g>

    <!-- ===== T3: Agent Tool Use ===== -->
    <g transform="translate(0,270)">
      <rect x="30" y="8" width="840" height="80" rx="12" fill="#1e293b" stroke="#f59e0b" stroke-width="1.5" opacity="0.6"/>
      <rect x="40" y="18" width="28" height="28" rx="6" fill="url(#t3-grad)" opacity="0.9"/>
      <text x="54" y="37" font-family="system-ui,sans-serif" font-size="14" font-weight="700" fill="#0f0f23" text-anchor="middle">T3</text>
      <text x="82" y="32" font-family="system-ui,sans-serif" font-size="14" font-weight="600" fill="#e2e8f0">Agent Tool Use</text>
      <text x="82" y="50" font-family="system-ui,sans-serif" font-size="11" fill="#94a3b8">Agent loop with 6 tools: vision, knowledge, memory, web search, image index, memory store.</text>
      <!-- Tool boxes -->
      <g transform="translate(200,58)">
        <rect x="0" y="-11" width="64" height="22" rx="5" fill="#78350f" opacity="0.6"/><text x="32" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#fcd34d" text-anchor="middle">vision</text>
        <rect x="72" y="-11" width="80" height="22" rx="5" fill="#78350f" opacity="0.6"/><text x="112" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#fcd34d" text-anchor="middle">knowledge</text>
        <rect x="160" y="-11" width="72" height="22" rx="5" fill="#78350f" opacity="0.6"/><text x="196" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#fcd34d" text-anchor="middle">memory</text>
        <rect x="240" y="-11" width="80" height="22" rx="5" fill="#78350f" opacity="0.6"/><text x="280" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#fcd34d" text-anchor="middle">web search</text>
        <rect x="328" y="-11" width="86" height="22" rx="5" fill="#78350f" opacity="0.6"/><text x="371" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#fcd34d" text-anchor="middle">image index</text>
        <rect x="422" y="-11" width="90" height="22" rx="5" fill="#78350f" opacity="0.6" class="node-pulse"/><text x="467" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#fcd34d" text-anchor="middle">memory store</text>
      </g>
    </g>

    <!-- ===== T4: Knowledge Companion ===== -->
    <g transform="translate(0,370)">
      <rect x="30" y="8" width="840" height="100" rx="12" fill="#1e293b" stroke="#06b6d4" stroke-width="2" opacity="0.7"/>
      <!-- Glow effect on border -->
      <rect x="30" y="8" width="840" height="100" rx="12" fill="none" stroke="#22d3ee" stroke-width="1" opacity="0.3" class="node-pulse"/>
      <rect x="40" y="18" width="28" height="28" rx="6" fill="url(#t4-grad)" opacity="0.9"/>
      <text x="54" y="37" font-family="system-ui,sans-serif" font-size="14" font-weight="700" fill="#0f0f23" text-anchor="middle">T4</text>
      <text x="82" y="32" font-family="system-ui,sans-serif" font-size="14" font-weight="600" fill="#e2e8f0">Knowledge Companion</text>
      <text x="82" y="50" font-family="system-ui,sans-serif" font-size="11" fill="#94a3b8">All tools + user profile + session memory + long-term persona memory. Your AI that remembers you.</text>
      <!-- Context layers -->
      <g transform="translate(120,70)">
        <rect x="0" y="-11" width="100" height="22" rx="5" fill="#164e63" opacity="0.7"/><text x="50" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#67e8f9" text-anchor="middle">User Profile</text>
        <line x1="108" y1="0" x2="128" y2="0" stroke="#06b6d4" stroke-width="1" class="dash-anim"/>
        <rect x="136" y="-11" width="110" height="22" rx="5" fill="#164e63" opacity="0.7"/><text x="191" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#67e8f9" text-anchor="middle">Session History</text>
        <line x1="254" y1="0" x2="274" y2="0" stroke="#06b6d4" stroke-width="1" class="dash-anim"/>
        <rect x="282" y="-11" width="120" height="22" rx="5" fill="#164e63" opacity="0.7" class="node-pulse"/><text x="342" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#67e8f9" text-anchor="middle">Persona Memory</text>
        <line x1="410" y1="0" x2="430" y2="0" stroke="#06b6d4" stroke-width="1" class="dash-anim"/>
        <rect x="438" y="-11" width="110" height="22" rx="5" fill="#164e63" opacity="0.7"/><text x="493" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#67e8f9" text-anchor="middle">Knowledge RAG</text>
        <line x1="556" y1="0" x2="576" y2="0" stroke="#06b6d4" stroke-width="1" class="dash-anim"/>
        <rect x="584" y="-11" width="90" height="22" rx="5" fill="#164e63" opacity="0.7"/><text x="629" y="4" font-family="system-ui,sans-serif" font-size="9" fill="#67e8f9" text-anchor="middle">6 Agent Tools</text>
      </g>
      <!-- Animated glow dots -->
      <circle cx="850" cy="58" r="6" fill="#22d3ee" class="glow-pulse" opacity="0.5"/>
    </g>

    <!-- Bottom label -->
    <text x="450" y="505" font-family="system-ui,sans-serif" font-size="10" fill="#475569" text-anchor="middle">Each topology is additive — T4 includes everything from T1 + T2 + T3</text>
  </g>
</svg>
