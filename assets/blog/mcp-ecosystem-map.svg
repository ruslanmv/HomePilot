<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600" fill="none">
  <defs>
    <linearGradient id="em-grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
    </linearGradient>
    <filter id="em-shadow">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#94a3b8" flood-opacity="0.18"/>
    </filter>
    <filter id="em-glow">
      <feGaussianBlur stdDeviation="6" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <clipPath id="em-clip"><rect width="1000" height="600" rx="16"/></clipPath>
  </defs>

  <g clip-path="url(#em-clip)">
    <rect width="1000" height="600" fill="#f8fafc" rx="16"/>
    <rect width="1000" height="600" fill="none" stroke="#e2e8f0" stroke-width="1" rx="16"/>

    <!-- Grid -->
    <g opacity="0.04" stroke="#94a3b8" stroke-width="0.5">
      <line x1="0" y1="100" x2="1000" y2="100"/><line x1="0" y1="200" x2="1000" y2="200"/>
      <line x1="0" y1="300" x2="1000" y2="300"/><line x1="0" y1="400" x2="1000" y2="400"/>
      <line x1="0" y1="500" x2="1000" y2="500"/>
      <line x1="200" y1="0" x2="200" y2="600"/><line x1="400" y1="0" x2="400" y2="600"/>
      <line x1="600" y1="0" x2="600" y2="600"/><line x1="800" y1="0" x2="800" y2="600"/>
    </g>

    <!-- Title -->
    <text x="500" y="35" font-family="system-ui, -apple-system, 'Segoe UI', Helvetica, Arial, sans-serif" font-size="15" font-weight="700" fill="#64748b" letter-spacing="3" text-anchor="middle">HOMEPILOT MCP + A2A ECOSYSTEM — 17 SERVERS, 2 AGENTS, 1 GATEWAY</text>

    <!-- ═══════════ CENTER: Context Forge Gateway ═══════════ -->
    <g transform="translate(500, 150)" filter="url(#em-shadow)">
      <rect x="-90" y="-45" width="180" height="90" rx="14" fill="#1e293b" stroke="url(#em-grad)" stroke-width="2"/>
      <text y="-15" font-family="system-ui, sans-serif" font-size="13" font-weight="700" fill="#e2e8f0" text-anchor="middle">Context Forge</text>
      <text y="3" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">MCP Gateway</text>
      <text y="20" font-family="'SF Mono', monospace" font-size="9" fill="#06b6d4" text-anchor="middle">:4444</text>
      <!-- Pulse ring -->
      <circle r="52" fill="none" stroke="url(#em-grad)" stroke-width="1" opacity="0.2">
        <animate attributeName="r" values="50;58;50" dur="3s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0.2;0.05;0.2" dur="3s" repeatCount="indefinite"/>
      </circle>
    </g>

    <!-- ═══════════ TOP: Core MCP Tool Servers ═══════════ -->
    <text x="500" y="68" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#0891b2" text-anchor="middle" letter-spacing="2">CORE TOOL SERVERS</text>

    <!-- Connecting lines from core servers to gateway -->
    <g stroke="#06b6d4" stroke-width="1" opacity="0.25">
      <line x1="140" y1="100" x2="430" y2="125"/>
      <line x1="310" y1="100" x2="450" y2="120"/>
      <line x1="500" y1="100" x2="500" y2="105"/>
      <line x1="690" y1="100" x2="550" y2="120"/>
      <line x1="860" y1="100" x2="570" y2="125"/>
    </g>

    <!-- Core Server 1: Personal Assistant -->
    <g transform="translate(140, 90)" filter="url(#em-shadow)">
      <rect x="-58" y="-18" width="116" height="36" rx="8" fill="#fff" stroke="#06b6d4" stroke-width="1.5"/>
      <text y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#0891b2" text-anchor="middle">Personal Asst</text>
      <text y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8" text-anchor="middle">:9101</text>
    </g>

    <!-- Core Server 2: Knowledge -->
    <g transform="translate(310, 90)" filter="url(#em-shadow)">
      <rect x="-58" y="-18" width="116" height="36" rx="8" fill="#fff" stroke="#2563eb" stroke-width="1.5"/>
      <text y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#2563eb" text-anchor="middle">Knowledge</text>
      <text y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8" text-anchor="middle">:9102</text>
    </g>

    <!-- Core Server 3: Decision Copilot -->
    <g transform="translate(500, 90)" filter="url(#em-shadow)">
      <rect x="-58" y="-18" width="116" height="36" rx="8" fill="#fff" stroke="#6366f1" stroke-width="1.5"/>
      <text y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#6366f1" text-anchor="middle">Decision Copilot</text>
      <text y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8" text-anchor="middle">:9103</text>
    </g>

    <!-- Core Server 4: Executive Briefing -->
    <g transform="translate(690, 90)" filter="url(#em-shadow)">
      <rect x="-58" y="-18" width="116" height="36" rx="8" fill="#fff" stroke="#8b5cf6" stroke-width="1.5"/>
      <text y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#8b5cf6" text-anchor="middle">Exec Briefing</text>
      <text y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8" text-anchor="middle">:9104</text>
    </g>

    <!-- Core Server 5: Web Search -->
    <g transform="translate(860, 90)" filter="url(#em-shadow)">
      <rect x="-58" y="-18" width="116" height="36" rx="8" fill="#fff" stroke="#ec4899" stroke-width="1.5"/>
      <text y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#ec4899" text-anchor="middle">Web Search</text>
      <text y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8" text-anchor="middle">:9105</text>
    </g>

    <!-- ═══════════ LEFT COLUMN: Local MCP Servers ═══════════ -->
    <text x="140" y="240" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#10b981" text-anchor="middle" letter-spacing="2">LOCAL TOOLS</text>

    <!-- Lines from left column to gateway -->
    <g stroke="#10b981" stroke-width="1" opacity="0.2">
      <line x1="210" y1="272" x2="410" y2="155"/>
      <line x1="210" y1="322" x2="410" y2="160"/>
      <line x1="210" y1="372" x2="410" y2="165"/>
      <line x1="210" y1="422" x2="410" y2="170"/>
    </g>

    <!-- Server: Local Notes -->
    <g transform="translate(140, 272)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#10b981" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#059669">Local Notes</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9110 | Nora Whitfield</text>
    </g>

    <!-- Server: Local Projects -->
    <g transform="translate(140, 322)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#10b981" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#059669">Local Projects</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9111 | Felix Navarro</text>
    </g>

    <!-- Server: Web Fetch -->
    <g transform="translate(140, 372)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#10b981" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#059669">Web Fetch</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9112 | Maya Chen</text>
    </g>

    <!-- Server: Shell Safe -->
    <g transform="translate(140, 422)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#10b981" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#059669">Shell Safe</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9113 | Soren Lindqvist</text>
    </g>

    <!-- ═══════════ CENTER-RIGHT: Communication MCP Servers ═══════════ -->
    <text x="500" y="240" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#f59e0b" text-anchor="middle" letter-spacing="2">COMMUNICATION</text>

    <!-- Lines from communication to gateway -->
    <g stroke="#f59e0b" stroke-width="1" opacity="0.2">
      <line x1="430" y1="272" x2="470" y2="195"/>
      <line x1="430" y1="322" x2="475" y2="195"/>
      <line x1="570" y1="272" x2="530" y2="195"/>
      <line x1="570" y1="322" x2="525" y2="195"/>
    </g>

    <!-- Server: Gmail -->
    <g transform="translate(410, 272)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#f59e0b" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#d97706">Gmail</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9114 | Priya Sharma</text>
    </g>

    <!-- Server: Google Calendar -->
    <g transform="translate(410, 322)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#f59e0b" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#d97706">Google Calendar</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9115 | Luca Moretti</text>
    </g>

    <!-- Server: Microsoft Graph -->
    <g transform="translate(590, 272)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#f59e0b" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#d97706">Microsoft Graph</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9116 | Diana Brooks</text>
    </g>

    <!-- Server: Slack -->
    <g transform="translate(590, 322)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#f59e0b" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#d97706">Slack</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9117 | Kai Tanaka</text>
    </g>

    <!-- ═══════════ RIGHT COLUMN: Dev & Knowledge MCP Servers ═══════════ -->
    <text x="860" y="240" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#8b5cf6" text-anchor="middle" letter-spacing="2">DEV &amp; KNOWLEDGE</text>

    <!-- Lines from right column to gateway -->
    <g stroke="#8b5cf6" stroke-width="1" opacity="0.2">
      <line x1="790" y1="272" x2="590" y2="155"/>
      <line x1="790" y1="322" x2="590" y2="160"/>
    </g>

    <!-- Server: GitHub -->
    <g transform="translate(860, 272)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#8b5cf6" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#7c3aed">GitHub</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9118 | Raven Okafor</text>
    </g>

    <!-- Server: Notion -->
    <g transform="translate(860, 322)" filter="url(#em-shadow)">
      <rect x="-80" y="-20" width="160" height="40" rx="8" fill="#fff" stroke="#8b5cf6" stroke-width="1.5"/>
      <text x="-58" y="1" font-family="system-ui, sans-serif" font-size="8" font-weight="700" fill="#7c3aed">Notion</text>
      <text x="-58" y="12" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8">:9119 | Elena Voss</text>
    </g>

    <!-- ═══════════ BOTTOM: A2A Agents ═══════════ -->
    <text x="500" y="410" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#ec4899" text-anchor="middle" letter-spacing="2">A2A AGENTS (AGENT-TO-AGENT)</text>

    <!-- Lines from A2A to gateway -->
    <g stroke="#ec4899" stroke-width="1.2" opacity="0.25" stroke-dasharray="4 3">
      <line x1="370" y1="430" x2="470" y2="195"/>
      <line x1="630" y1="430" x2="530" y2="195"/>
    </g>

    <!-- Agent: Everyday Assistant -->
    <g transform="translate(370, 460)" filter="url(#em-shadow)">
      <rect x="-95" y="-25" width="190" height="50" rx="10" fill="#fff" stroke="#ec4899" stroke-width="1.5"/>
      <text y="-5" font-family="system-ui, sans-serif" font-size="9" font-weight="700" fill="#db2777" text-anchor="middle">Everyday Assistant</text>
      <text y="10" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8" text-anchor="middle">:9201 | Read-only + Advisory</text>
      <!-- Pulse -->
      <circle cx="80" cy="-15" r="3" fill="#ec4899" opacity="0.5">
        <animate attributeName="opacity" values="0.5;0.15;0.5" dur="2.5s" repeatCount="indefinite"/>
      </circle>
    </g>

    <!-- Agent: Chief of Staff -->
    <g transform="translate(630, 460)" filter="url(#em-shadow)">
      <rect x="-95" y="-25" width="190" height="50" rx="10" fill="#fff" stroke="#ec4899" stroke-width="1.5"/>
      <text y="-5" font-family="system-ui, sans-serif" font-size="9" font-weight="700" fill="#db2777" text-anchor="middle">Chief of Staff</text>
      <text y="10" font-family="'SF Mono', monospace" font-size="7" fill="#94a3b8" text-anchor="middle">:9202 | Orchestrator (safe v1)</text>
      <!-- Pulse -->
      <circle cx="80" cy="-15" r="3" fill="#ec4899" opacity="0.5">
        <animate attributeName="opacity" values="0.5;0.15;0.5" dur="3s" repeatCount="indefinite"/>
      </circle>
    </g>

    <!-- ═══════════ BOTTOM: Protocol and Stats ═══════════ -->
    <g transform="translate(500, 540)">
      <!-- Protocol badges -->
      <rect x="-320" y="-14" width="80" height="24" rx="6" fill="#06b6d4" opacity="0.1"/>
      <text x="-280" y="3" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#0891b2" text-anchor="middle">JSON-RPC 2.0</text>

      <rect x="-220" y="-14" width="65" height="24" rx="6" fill="#3b82f6" opacity="0.1"/>
      <text x="-188" y="3" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#2563eb" text-anchor="middle">MCP v1</text>

      <rect x="-138" y="-14" width="55" height="24" rx="6" fill="#8b5cf6" opacity="0.1"/>
      <text x="-111" y="3" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#7c3aed" text-anchor="middle">A2A v1</text>

      <rect x="-65" y="-14" width="65" height="24" rx="6" fill="#10b981" opacity="0.1"/>
      <text x="-33" y="3" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#059669" text-anchor="middle">FastAPI</text>

      <rect x="18" y="-14" width="85" height="24" rx="6" fill="#f59e0b" opacity="0.1"/>
      <text x="60" y="3" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#d97706" text-anchor="middle">Write-Gated</text>

      <rect x="120" y="-14" width="90" height="24" rx="6" fill="#ec4899" opacity="0.1"/>
      <text x="165" y="3" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#db2777" text-anchor="middle">164 Tests Pass</text>

      <rect x="228" y="-14" width="90" height="24" rx="6" fill="#1e293b" opacity="0.08"/>
      <text x="273" y="3" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#475569" text-anchor="middle">Self-Hosted</text>
    </g>

    <!-- Bottom accent -->
    <rect x="200" y="572" width="600" height="2" rx="1" fill="url(#em-grad)" opacity="0.2">
      <animate attributeName="width" values="500;700;500" dur="5s" repeatCount="indefinite"/>
      <animate attributeName="x" values="250;150;250" dur="5s" repeatCount="indefinite"/>
    </rect>
  </g>
</svg>
